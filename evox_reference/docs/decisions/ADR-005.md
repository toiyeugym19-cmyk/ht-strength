# ADR-005: Permission Levels and Human Oversight

## Status
Accepted

## Context
AI output is not 100% reliable. Agents will make mistakes. Ship bugs. Misunderstand requirements. Hallucinate solutions that don't work.

This isn't pessimism — it's risk management.

## Decision
**You need permission levels** — what the agent can do alone, and what requires human approval.

### Autonomy Levels

| Level | Name | Can Do Alone | Needs Approval |
|-------|------|--------------|----------------|
| 1 | Intern | Read files, search code, run tests | Any code changes |
| 2 | Specialist | Edit assigned files, create branches | Merge, deploy |
| 3 | Lead | Full file access, approve others' PRs | Production deploy, schema changes |

### Territory Rules
Strict boundaries prevent cross-editing:
- **SAM (Backend)**: `convex/`, `scripts/`, `lib/evox/`
- **LEO (Frontend)**: `app/evox/`, `components/evox/`

### Approval Gates
1. **Git Push**: Always requires human approval
2. **API Key Changes**: Always requires human approval
3. **Data Deletion**: Always requires human approval
4. **Security-Sensitive Actions**: Always requires human approval
5. **Schema Migrations**: Requires Lead or human approval

### Auto-Approve Actions
- File creation within territory
- File edits within territory
- Package installs (reviewed dependencies)
- Build and test runs

## Consequences
### Positive
- Limits blast radius of mistakes
- Clear escalation paths
- Human stays in control of critical decisions
- Agents can work autonomously on safe operations

### Negative
- Friction for legitimate work
- Requires clear boundary definitions
- Human becomes bottleneck for approvals

## References
- Truth 5: AI output is not 100% reliable
- `CLAUDE.md`: Agent territory definitions
- Future: Agent Levels progression system
